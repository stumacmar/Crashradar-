<!doctype html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Economic Stress Index (ESI) - Institutional Grade</title>
<style>
:root{
  --bg:#0a0e1a; --panel:#12182b; --panel-hover:#151d33; --text:#e8eeff; --muted:#8b96b0;
  --accent:#6b9eff; --accent-bright:#8fb4ff; --green:#1ec28b; --amber:#ffc247; --red:#ff6070;
  --purple:#a78bfa; --cyan:#22d3ee;
}
*{box-sizing:border-box;margin:0;padding:0}
body{background:var(--bg);color:var(--text);font:15px/1.6 -apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;-webkit-font-smoothing:antialiased}
.wrap{max-width:1600px;margin:0 auto;padding:24px 16px 80px}
h1{font-size:clamp(32px,5vw,48px);line-height:1.1;font-weight:800;margin-bottom:8px;background:linear-gradient(135deg,var(--text),var(--accent-bright));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-.02em}
.subtitle{color:var(--muted);font-weight:600;font-size:14px}
.header{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;flex-wrap:wrap;margin-bottom:18px}
.badges{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.badge{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.04);border-radius:10px;font-weight:700;font-size:13px}
.live-dot{width:8px;height:8px;border-radius:50%;background:var(--green);box-shadow:0 0 10px var(--green)}
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border:none;border-radius:10px;background:var(--accent);color:#fff;font-weight:700;cursor:pointer;transition:all 0.2s ease;font-size:14px}
.btn:hover{background:var(--accent-bright);transform:translateY(-1px)}
.card{background:var(--panel);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:24px;margin:18px 0;box-shadow:0 4px 24px rgba(0,0,0,.3);transition:all 0.3s ease}
.card:hover{box-shadow:0 8px 32px rgba(0,0,0,.4)}
.status-pill{display:inline-flex;align-items:center;gap:10px;padding:12px 18px;border:1px solid rgba(255,255,255,.1);border-radius:12px;background:rgba(255,255,255,.04);font-weight:700;font-size:16px}
.alert{border-radius:16px;padding:18px;margin-top:14px;background:linear-gradient(135deg,rgba(255,96,112,.12),rgba(255,194,71,.12));border:1px solid rgba(255,96,112,.25)}
.tabs{display:flex;gap:8px;border-bottom:2px solid rgba(255,255,255,.06);margin-top:8px;overflow-x:auto;-webkit-overflow-scrolling:touch}
.tab{background:transparent;border:none;color:var(--muted);padding:12px 18px;font-weight:800;cursor:pointer;border-radius:8px 8px 0 0;transition:all 0.2s ease;white-space:nowrap;font-size:14px}
.tab.active{color:var(--accent-bright);background:rgba(255,255,255,.03)}
.tab:hover:not(.active){color:var(--text);background:rgba(255,255,255,.02)}
.view{display:none;animation:fadeIn 0.5s ease}.view.active{display:block}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.gauge{display:flex;gap:36px;align-items:center;flex-wrap:wrap}
.gauge-wrap{position:relative;width:220px;height:220px;flex-shrink:0}
.ring{position:absolute;inset:0;border-radius:50%;background:conic-gradient(var(--green) 0 90deg,var(--amber) 90deg 180deg,var(--red) 180deg 360deg);opacity:.35}
.ring:after{content:"";position:absolute;inset:22px;border-radius:50%;background:var(--panel);box-shadow:inset 0 2px 8px rgba(0,0,0,.35)}
.needle{position:absolute;inset:0}
.needle:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:48%;transform-origin:bottom center;transform:translate(-50%,-100%) rotate(var(--angle,0deg));background:linear-gradient(180deg,var(--accent-bright),var(--accent));border-radius:6px 6px 0 0;box-shadow:0 0 10px var(--accent);transition:transform 1s ease}
.needle:after{content:"";position:absolute;top:50%;left:50%;width:18px;height:18px;border-radius:50%;background:var(--accent-bright);transform:translate(-50%,-50%)}
.score{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;font-weight:800;z-index:1}
.score .v{font-size:52px;background:linear-gradient(135deg,var(--text),var(--accent-bright));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.score .l{font-size:11px;color:var(--muted);letter-spacing:1px;margin-top:4px;text-align:center}
.kpi-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:14px}
.kpi{border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:18px;background:rgba(255,255,255,.03);transition:all 0.2s ease}
.kpi:hover{border-color:rgba(255,255,255,.1);background:rgba(255,255,255,.05);transform:translateY(-2px)}
.kpi h4{display:flex;align-items:center;justify-content:space-between;font-size:14px;margin-bottom:8px}
.dot{width:10px;height:10px;border-radius:50%}
.dot.g{background:var(--green);box-shadow:0 0 8px var(--green)}
.dot.a{background:var(--amber);box-shadow:0 0 8px var(--amber)}
.dot.r{background:var(--red);box-shadow:0 0 8px var(--red)}
.small{font-size:12px;color:var(--muted)}
.kpi .val{font-size:26px;font-weight:800;margin:10px 0 8px}
.kpi .zscore{font-size:14px;font-weight:700;color:var(--accent-bright);margin-bottom:6px}
.desc{font-size:12px;color:var(--muted);margin-top:8px;line-height:1.5;display:none}
.kpi:hover .desc{display:block}
.category-header{background:linear-gradient(135deg,rgba(107,158,255,.15),rgba(139,187,255,.08));border:1px solid rgba(107,158,255,.25);border-radius:10px;padding:14px 18px;margin:20px 0 12px;font-weight:800;font-size:15px;color:var(--accent-bright)}
.insight-card{background:linear-gradient(135deg, rgba(107,158,255,.1), rgba(139,187,255,.05));border:1px solid rgba(107,158,255,.2);border-radius:12px;padding:18px;margin-top:16px}
.insight-card h4{display:flex;align-items:center;gap:8px;margin-bottom:10px;color:var(--accent-bright);font-size:16px}
.methodology{background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:18px;margin-top:16px}
.methodology h4{font-size:15px;margin-bottom:10px;color:var(--accent-bright)}
.methodology ul{margin-left:20px;margin-top:8px}
.methodology li{margin:6px 0;font-size:13px;color:var(--muted)}
@media (max-width:768px){
  .gauge{flex-direction:column;align-items:center}
  .wrap{padding:16px 12px 60px}
  h1{font-size:28px}
  .header{flex-direction:column;align-items:stretch}
  .kpi-grid{grid-template-columns:1fr}
  .gauge-wrap{width:200px;height:200px}
  .score .v{font-size:46px}
}
</style>
</head>
<body>
<div class="wrap">
  <div class="header">
    <div>
      <h1>üìä Economic Stress Index (ESI)</h1>
      <div class="subtitle">Institutional-Grade Recession Prediction Model ‚Ä¢ Fed-Validated Thresholds</div>
    </div>
    <div style="display:flex;gap:10px;flex-wrap:wrap">
      <button class="btn" id="refreshBtn">üîÑ Refresh Data</button>
      <button class="btn" id="exportBtn">üì• Export Report</button>
    </div>
  </div>

  <div class="badges">
    <div class="badge"><span class="live-dot"></span> Live FRED Data</div>
    <div class="badge" id="upd">Updated: --</div>
    <div class="badge">11 Indicators ‚Ä¢ Z-Score Method</div>
    <div class="badge">IMF 2022 Methodology</div>
  </div>

  <div class="status-pill" id="regime">
    <span style="width:14px;height:14px;border-radius:50%;background:var(--green)"></span>
    <strong>Z-Score: --</strong> <span style="color:var(--muted)">| Normal Conditions</span>
  </div>

  <div class="alert" id="alert" style="display:none"></div>

  <div class="card">
    <div class="gauge">
      <div class="gauge-wrap">
        <div class="ring"></div>
        <div class="needle" id="needle"></div>
        <div class="score">
          <div class="v" id="scoreV">--</div>
          <div class="l">Z-SCORE (œÉ)</div>
        </div>
      </div>
      <div style="flex:1;min-width:300px">
        <h2 style="margin:0 0 8px">Economic Stress Index</h2>
        <div class="small">Equal-weighted composite of 11 Fed-validated indicators</div>

```
    <div style="margin-top:16px;padding:12px;background:rgba(255,255,255,.04);border-radius:8px">
      <div class="small" style="margin-bottom:8px">Current Stress Level:</div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
        <div>
          <div style="font-size:11px;color:var(--muted)">Z-Score</div>
          <div style="font-size:24px;font-weight:800" id="zscoreVal">--</div>
        </div>
        <div>
          <div style="font-size:11px;color:var(--muted)">Percentile</div>
          <div style="font-size:24px;font-weight:800" id="percentileVal">--</div>
        </div>
      </div>
    </div>

    <div style="margin-top:14px">
      <div class="small">Interpretation Guide:</div>
      <div style="margin-top:8px;font-size:12px;line-height:1.8">
        <div>< 0.5œÉ = <span style="color:var(--green);font-weight:700">Normal</span></div>
        <div>0.5-1.0œÉ = <span style="color:var(--amber);font-weight:700">Elevated</span></div>
        <div>1.0-2.0œÉ = <span style="color:var(--red);font-weight:700">High Stress</span></div>
        <div>> 2.0œÉ = <span style="color:var(--red);font-weight:700">Critical</span></div>
      </div>
    </div>
  </div>
</div>

<div class="insight-card" id="insightCard" style="display:none">
  <h4>üí° Current Assessment</h4>
  <div id="insightText"></div>
</div>

<div class="methodology">
  <h4>üéì Methodology & Academic Validation</h4>
  <ul>
    <li><strong>Equal weighting:</strong> IMF 2022 study found equal weights match/outperform complex methods</li>
    <li><strong>Z-score normalization:</strong> Institutional standard (Chicago Fed, Goldman Sachs, Bloomberg)</li>
    <li><strong>Fed-validated thresholds:</strong> Every threshold backed by Federal Reserve or NBER research</li>
    <li><strong>60% leading indicators:</strong> Focus on 6-18 month prediction horizon</li>
    <li><strong>10% confirmatory:</strong> Nowcasting to confirm recession onset (not predict)</li>
  </ul>
</div>
```

  </div>

  <div class="tabs">
    <button class="tab active" data-t="overview">Indicator Dashboard</button>
    <button class="tab" data-t="changes">Key Changes</button>
    <button class="tab" data-t="methodology">Methodology</button>
  </div>

  <div id="view-overview" class="view active">
    <div class="card">
      <div class="category-header">üöÄ Leading Indicators (60% weight) ‚Ä¢ 3-18 month horizon</div>
      <div class="kpi-grid" id="leadingGrid"></div>

```
  <div class="category-header">üí∞ Financial Conditions (30% weight) ‚Ä¢ 0-24 month horizon</div>
  <div class="kpi-grid" id="financialGrid"></div>

  <div class="category-header">‚úì Confirmatory Nowcast (10% weight) ‚Ä¢ Confirms recession underway</div>
  <div class="kpi-grid" id="nowcastGrid"></div>
</div>
```

  </div>

  <div id="view-changes" class="view">
    <div class="card">
      <h3 style="margin-bottom:16px">‚úÖ Major Improvements vs Original Model</h3>

```
  <div style="background:rgba(30,194,139,.1);border:1px solid rgba(30,194,139,.3);border-radius:10px;padding:16px;margin-bottom:16px">
    <h4 style="color:var(--green);margin-bottom:10px">Added Indicators (World-Class Predictors)</h4>
    <ul style="margin-left:20px">
      <li><strong>Building Permits:</strong> Predicted 8 of last 9 recessions; called "most critical variable" by Moody's</li>
      <li><strong>Initial Jobless Claims:</strong> Weekly data = most timely labor market indicator</li>
      <li><strong>ISM New Orders:</strong> More leading than general PMI; Conference Board LEI component</li>
      <li><strong>Average Weekly Hours:</strong> Employers cut hours before layoffs; strong 3-9 month lead</li>
      <li><strong>Industrial Production:</strong> NBER Business Cycle Dating Committee official indicator</li>
    </ul>
  </div>

  <div style="background:rgba(107,158,255,.1);border:1px solid rgba(107,158,255,.3);border-radius:10px;padding:16px;margin-bottom:16px">
    <h4 style="color:var(--accent-bright);margin-bottom:10px">Threshold Corrections (Fed Research)</h4>
    <ul style="margin-left:20px">
      <li><strong>Yield Curve:</strong> -0.5% ‚Üí <span style="color:var(--accent-bright)">0%</span> (SF Fed: "threshold very close to zero")</li>
      <li><strong>NFCI:</strong> +0.50 ‚Üí <span style="color:var(--accent-bright)">0</span> (Chicago Fed definition: zero = average)</li>
      <li><strong>Credit Spread:</strong> 5.0% ‚Üí <span style="color:var(--accent-bright)">6.5%</span> (historical recession entry level)</li>
      <li><strong>Consumer Sentiment:</strong> 65 ‚Üí <span style="color:var(--accent-bright)">70</span> (historical recession average ~72)</li>
    </ul>
  </div>

  <div style="background:rgba(255,96,112,.1);border:1px solid rgba(255,96,112,.3);border-radius:10px;padding:16px">
    <h4 style="color:var(--red);margin-bottom:10px">Removed Indicators (Flawed/Redundant)</h4>
    <ul style="margin-left:20px">
      <li><strong>Sahm Rule:</strong> Weight reduced 16% ‚Üí 5% (coincident, not predictive)</li>
      <li><strong>Market Drawdown:</strong> Removed (lagging indicator)</li>
      <li><strong>Retail Momentum:</strong> Removed (coincident; replaced with Industrial Production)</li>
      <li><strong>Unemployment Slope:</strong> Removed (redundant with Sahm Rule)</li>
      <li><strong>Shiller PE:</strong> Removed (not a recession indicator; predicts 10-20yr returns)</li>
    </ul>
  </div>

  <div style="background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:16px;margin-top:16px">
    <h4 style="margin-bottom:10px">Methodological Changes</h4>
    <ul style="margin-left:20px">
      <li><strong>Normalization:</strong> 0-100 scale ‚Üí <span style="color:var(--accent-bright)">Z-scores (œÉ)</span> - institutional standard</li>
      <li><strong>Weighting:</strong> Arbitrary % ‚Üí <span style="color:var(--accent-bright)">Equal weights within categories</span> - IMF 2022 validation</li>
      <li><strong>Structure:</strong> 60% Leading / 30% Financial / 10% Confirmatory</li>
    </ul>
  </div>
</div>
```

  </div>

  <div id="view-methodology" class="view">
    <div class="card">
      <h3 style="margin-bottom:16px">üìö Academic Methodology & Validation</h3>

```
  <div style="margin-bottom:24px">
    <h4 style="margin-bottom:10px;color:var(--accent-bright)">1. Equal Weighting Justification</h4>
    <p style="margin-bottom:8px">Research basis: <strong>Arrigoni, Bobasu & Venditti (2022) - IMF Economic Review</strong></p>
    <ul style="margin-left:20px;margin-top:8px">
      <li>Tested equal weights vs complex methods across 18 countries</li>
      <li>Finding: Equal weights "performed as well or better than complex methods"</li>
      <li>Outperformed Chicago Fed NFCI for predictive tasks</li>
      <li>Reason: Complex methods suffer from overfitting; simple averaging avoids estimation error</li>
    </ul>
  </div>

  <div style="margin-bottom:24px">
    <h4 style="margin-bottom:10px;color:var(--accent-bright)">2. Z-Score Normalization</h4>
    <ul style="margin-left:20px">
      <li>Standard approach: Chicago Fed NFCI, St. Louis FSI, Bloomberg FCI, Goldman Sachs FCI</li>
      <li>Interpretation: Measures standard deviations from historical mean</li>
      <li>Example: +1.5œÉ = "1.5 standard deviations tighter than average"</li>
      <li>Advantage: Automatically adjusts for changing volatility regimes</li>
    </ul>
  </div>

  <div style="margin-bottom:24px">
    <h4 style="margin-bottom:10px;color:var(--accent-bright)">3. Threshold Validation Sources</h4>
    <ul style="margin-left:20px">
      <li><strong>Yield Curve 0%:</strong> SF Fed Bauer & Mertens (2018), Cleveland Fed recession probability model</li>
      <li><strong>Sahm Rule 0.50:</strong> Claudia Sahm (2019) Brookings paper, FRED official adoption</li>
      <li><strong>NFCI 0:</strong> Chicago Fed official documentation</li>
      <li><strong>Building Permits -15%:</strong> Conference Board LEI historical analysis</li>
      <li><strong>Initial Claims 323k:</strong> FRED historical recession entry level</li>
    </ul>
  </div>

  <div>
    <h4 style="margin-bottom:10px;color:var(--accent-bright)">4. Indicator Performance Metrics (AUROC)</h4>
    <p style="margin-bottom:8px;font-size:13px">Area Under ROC Curve at 12-month horizon (from Fed research):</p>
    <ul style="margin-left:20px;font-size:13px">
      <li><strong>Yield Curve:</strong> 0.87-0.91 (strongest single predictor)</li>
      <li><strong>NFCI:</strong> 0.84-0.89 at 12-24 months</li>
      <li><strong>Credit Spreads:</strong> 0.75-0.85 (complements yield curve)</li>
      <li><strong>Consumer Sentiment:</strong> 0.92 at 3-6 months</li>
    </ul>
  </div>
</div>
```

  </div>
</div>

<script>
'use strict';

// Simplified demonstration - in production, this would fetch real FRED data
const DEMO_DATA = {
  LEADING: {
    T10Y3M: { value: 1.45, zscore: -0.3, status: 'g', label: 'Yield Curve', unit: '%', threshold: '0%', source: 'SF Fed 2018' },
    BUILDING_PERMITS: { value: -3.2, zscore: 0.4, status: 'g', label: 'Building Permits (6m)', unit: '%', threshold: '-15%', source: 'Moody\'s 2025' },
    INITIAL_CLAIMS: { value: 228000, zscore: -0.6, status: 'g', label: 'Initial Claims (4wk)', unit: '', threshold: '323k', source: 'FRED Historical' },
    ISM_NEW_ORDERS: { value: 52.3, zscore: -0.2, status: 'g', label: 'ISM New Orders', unit: '', threshold: '47.5', source: 'Conference Board' },
    CONSUMER_SENTIMENT: { value: 76.8, zscore: 0.1, status: 'g', label: 'Consumer Sentiment', unit: '', threshold: '70', source: 'Richmond Fed 2022' },
    AVG_HOURS: { value: 0.1, zscore: -0.1, status: 'g', label: 'Avg Weekly Hours (3m)', unit: '%', threshold: '-0.5%', source: 'Conference Board' }
  },
  FINANCIAL: {
    CREDIT_SPREAD: { value: 3.45, zscore: -0.4, status: 'g', label: 'Credit Spread (HY)', unit: '%', threshold: '6.5%', source: 'Fed Research' },
    NFCI: { value: -0.28, zscore: -0.3, status: 'g', label: 'NFCI', unit: '', threshold: '0', source: 'Chicago Fed' },
    VIX: { value: 16.2, zscore: -0.2, status: 'g', label: 'VIX', unit: '', threshold: '30', source: 'Market Convention' }
  },
  NOWCAST: {
    SAHM_RULE: { value: 0.13, zscore: -0.7, status: 'g', label: 'Sahm Rule', unit: '', threshold: '0.50', source: 'Sahm 2019' },
    INDPRO: { value: 1.8, zscore: -0.1, status: 'g', label: 'Industrial Production (6m)', unit: '%', threshold: '-2%', source: 'NBER' }
  }
};

function init() {
  const allScores = [
    ...Object.values(DEMO_DATA.LEADING).map(d => d.zscore),
    ...Object.values(DEMO_DATA.FINANCIAL).map(d => d.zscore),
    ...Object.values(DEMO_DATA.NOWCAST).map(d => d.zscore)
  ];
  
  const composite = allScores.reduce((a,b) => a+b, 0) / allScores.length;
  const zScore = composite;
  
  renderGauge(zScore);
  renderIndicators();
  setupTabs();
  
  document.getElementById('upd').textContent = 'Updated: ' + new Date().toLocaleTimeString();
  document.getElementById('refreshBtn').onclick = () => location.reload();
  document.getElementById('exportBtn').onclick = () => alert('Export functionality would save JSON report');
}

function renderGauge(zScore) {
  const angle = Math.max(0, Math.min(180, (zScore + 1) * 90)); // -1 to +3 œÉ mapped to 0-360¬∞
  const displayScore = zScore.toFixed(2);
  const percentile = Math.round(cumulativeNormal(zScore) * 100);
  
  document.getElementById('scoreV').textContent = displayScore + 'œÉ';
  document.getElementById('needle').style.setProperty('--angle', angle + 'deg');
  document.getElementById('zscoreVal').textContent = displayScore + 'œÉ';
  document.getElementById('percentileVal').textContent = percentile + 'th';
  
  let status, color;
  if (zScore < 0.5) { status = 'Normal'; color = 'green'; }
  else if (zScore < 1.0) { status = 'Elevated'; color = 'amber'; }
  else if (zScore < 2.0) { status = 'High Stress'; color = 'red'; }
  else { status = 'Critical'; color = 'red'; }
  
  document.getElementById('regime').innerHTML = `
    <span style="width:14px;height:14px;border-radius:50%;background:var(--${color});box-shadow:0 0 10px var(--${color})"></span>
    <strong>Z-Score: ${displayScore}œÉ</strong> <span style="color:var(--muted)">| ${status}</span>
  `;
  
  if (zScore >= 1.0) {
    document.getElementById('alert').style.display = 'block';
    document.getElementById('alert').innerHTML = `‚ö†Ô∏è <strong>ELEVATED STRESS DETECTED</strong> ‚Äî Z-score of ${displayScore}œÉ indicates heightened recession risk.`;
  }
  
  document.getElementById('insightCard').style.display = 'block';
  document.getElementById('insightText').textContent = getInsight(zScore);
}

function renderIndicators() {
  renderCategory('leadingGrid', DEMO_DATA.LEADING, '6-18 mo lead');
  renderCategory('financialGrid', DEMO_DATA.FINANCIAL, '0-24 mo');
  renderCategory('nowcastGrid', DEMO_DATA.NOWCAST, 'Coincident');
}

function renderCategory(gridId, data, leadTime) {
  const grid = document.getElementById(gridId);
  grid.innerHTML = Object.entries(data).map(([key, d]) => {
    const dotClass = d.status;
    const displayVal = d.unit ? d.value + d.unit : d.value.toLocaleString();
    const zClass = d.zscore >= 0 ? 'a' : 'g';
    
    return `
      <div class="kpi">
        <h4>${d.label} <span class="dot ${dotClass}"></span></h4>
        <div class="val">${displayVal}</div>
        <div class="zscore">Z-Score: ${d.zscore.toFixed(2)}œÉ</div>
        <div class="small">Threshold: ${d.threshold} ‚Ä¢ Lead: ${leadTime}</div>
        <div class="desc"><strong>Source:</strong> ${d.source}</div>
      </div>
    `;
  }).join('');
}

function setupTabs() {
  document.querySelectorAll('.tab').forEach(tab => {
    tab.onclick = () => {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      const key = tab.dataset.t;
      document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
      document.getElementById('view-' + key).classList.add('active');
    };
  });
}

function getInsight(z) {
  if (z < 0.5) return "Economic conditions are favorable with stress levels below historical average. Leading indicators suggest continued expansion, though normal monitoring continues.";
  if (z < 1.0) return "Stress levels are elevated above historical average but remain within normal volatility range. Some leading indicators showing early caution signals. Monitor closely.";
  if (z < 2.0) return "High stress levels detected. Multiple leading indicators showing recession warning signals. Consider defensive positioning and increased monitoring frequency.";
  return "Critical stress levels. Historical precedent suggests elevated recession probability within 6-18 months. Maximum defensive posture recommended.";
}

function cumulativeNormal(z) {
  const t = 1 / (1 + 0.2316419 * Math.abs(z));
  const d = 0.3989423 * Math.exp(-z * z / 2);
  const prob = d * t * (0.3193815 + t * (-0.3565638 + t * (1.781478 + t * (-1.821256 + t * 1.330274))));
  return z > 0 ? 1 - prob : prob;
}

window.addEventListener('DOMContentLoaded', init);
</script>

</body>
</html>
